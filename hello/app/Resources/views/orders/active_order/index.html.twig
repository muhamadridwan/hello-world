
{% extends 'base.html.twig' %}
{% block title %}Active Orders{% endblock %}
     
{% block body %}

<!--<ul class=entries>-->
<div class="panel panel-default">
    <div class="panel-heading" style="height:3em;padding:0.2em;padding-right:1em;"></div>
    <!-- Table -->
    <table class="table">
        <tr>
            <th>No</th>
            <th>Order ID</th>
            <th>Customer/Table</th>
            <th>The Orders</th>
            <th>Status</th>
            <th>Action</th>
        </tr>
        {% set idx = 1 %}
        {% for o in activeOrders.custOrders %}
        <tr>
            <td>{{idx}}</td>
            <td>{{ o.getOrderId() }}</td>
            <td>
                {% if o.getCustomer() %}
                    {{ o.getCustomer().getCustomerName() }}
                {% else %}
                    -
                {% endif %}
            </td>
            <td>
				{% for od in activeOrders.orderDetails[o.getOrderId] %}
					{{od.getMeal().getMealName()}}({{od.getQty()}});
				{% endfor %}
			</td>
            <td>{{ o.getOrderStatus() }}</td>
            <td>
                {# if session.logged_in #}
                <a href="#"><span class="glyphicon glyphicon-pencil" aria-hidden="true" style="margin-right:0.3em"></span></a>
                <a href="#"><span class="glyphicon glyphicon-remove" aria-hidden="true"></span></a>
                {# endif #}
            </td>
        </tr>
        {% set idx = idx +1 %}
        {% else %}
        <em>Unbelievable.  No entries here so far</em>
        {% endfor %}
    </table>
</div>
    
{% endblock %}